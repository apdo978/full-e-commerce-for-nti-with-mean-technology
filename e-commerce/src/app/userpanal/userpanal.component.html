<div class="container">
    <h3>User Profile</h3>

    <!-- عرض رسالة الخطأ إذا حدث خطأ -->
    <div *ngIf="errorMessage" class="alert alert-danger">
        {{ errorMessage }}
    </div>

    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label for="name">Full Name</label>
            <input type="text" id="name" class="form-control" formControlName="name"
                placeholder="Enter your full name" />
            <div *ngIf="userForm.get('name')?.invalid && (userForm.get('name')?.touched || userForm.get('name')?.dirty)"
                class="invalid-feedback">
                Please enter a valid name.
            </div>
        </div>

        <div class="form-group">
            <label for="email">Email Address</label>
            <input type="email" id="email" class="form-control" formControlName="email"
                placeholder="Enter your email" />
            <div *ngIf="userForm.get('email')?.invalid && (userForm.get('email')?.touched || userForm.get('email')?.dirty)"
                class="invalid-feedback">
                Please enter a valid email address.
            </div>
        </div>
        <div class="form-group">
            <label for="newemail">New Email Address</label>
            <input type="email" id="newemail" class="form-control" formControlName="newemail"
                placeholder="Enter your new email" />
            <div *ngIf="userForm.get('newemail')?.invalid && (userForm.get('newemail')?.touched || userForm.get('newemail')?.dirty)"
                class="invalid-feedback">
                Please enter a valid new email address.
            </div>
        </div>

<div class="form-group">
    <label for="newPAssword">New Password</label>
    <input type="password" id="newPAssword" class="form-control" placeholder="Enter new password"
        formControlName="newPAssword" required />
    <div *ngIf="newPAssword?.invalid && newPAssword?.touched" class="invalid-feedback">
        New password is required.
    </div>
</div>

        <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" class="form-control" formControlName="password"
                placeholder="Enter your password" />
            <div *ngIf="userForm.get('password')?.invalid && (userForm.get('password')?.touched || userForm.get('password')?.dirty)"
                class="invalid-feedback">
                Password must be at least 6 characters long.
            </div>
        </div>

        <button type="submit" class="btn btn-primary" [disabled]="!userForm.valid">
            Update Profile
        </button>
    </form>
</div>